{% extends 'baseNoStyle.html' %}

{% block title %}Patient | RadiologyIS{% endblock %}

{% block content %}
<!-- Patients Section -->
<div id="patients" class="section">
    <h2>ðŸ‘¥ Patient Management</h2>

    <div style="margin-bottom: 2rem;">
        <a href="{% url 'add_patient' %}"><button class="btn btn-primary">Add New Patient</button></a>
        <button class="btn btn-secondary" onclick="sendAppointmentReminders()">Send Reminders</button>
    </div>

    <h3>Scheduled Procedures</h3>
    <table class="table">
        <thead>
            <tr>
                <th>Patient</th>
                <th>Procedure</th>
                <th>Date & Time</th>
                <th>Status</th>
                <th>Contact</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody id="appointmentsTable">
            <tr>
                <td>Emma Davis</td>
                <td>Mammography</td>
                <td>2025-09-25 10:00 AM</td>
                <td>
                    <span class="status-badge status-pending">Scheduled</span>
                </td>
                <td>emma.davis@email.com</td>
                <td>
                    <button class="btn btn-secondary" onclick="sendReminder('emma.davis@email.com')">Send Reminder</button>
                    <button class="btn btn-secondary" onclick="reschedule('apt-001')">Reschedule</button>
                </td>
            </tr>
            <tr>
                <td>Robert Brown</td>
                <td>CT Chest</td>
                <td>2025-09-26 2:00 PM</td>
                <td>
                    <span class="status-badge status-pending">Scheduled</span>
                </td>
                <td>r.brown@email.com</td>
                <td>
                    <button class="btn btn-secondary" onclick="sendReminder('r.brown@email.com')">Send Reminder</button>
                    <button class="btn btn-secondary" onclick="reschedule('apt-002')">Reschedule</button>
                </td>
            </tr>
        </tbody>
    </table>

    <div style="margin-top: 2rem;">
        <h3>Schedule New Procedure</h3>

        <div class="form-group">
            <label for="schedulePatientId">Patient ID</label>
            <input type="text" id="schedulePatientId" placeholder="Enter Patient ID">
        </div>

        <div class="form-group">
            <label for="schedulePatientEmail">Patient Email</label>
            <input type="email" id="schedulePatientEmail" placeholder="Enter patient email">
        </div>

        <div class="form-group">
            <label for="scheduleProcedure">Procedure Type</label>
            <select id="scheduleProcedure">
                <option value="">Select Procedure</option>
                <option value="xray">X-Ray</option>
                <option value="ct">CT Scan</option>
                <option value="mri">MRI</option>
                <option value="ultrasound">Ultrasound</option>
                <option value="mammo">Mammography</option>
            </select>
        </div>

        <div class="form-group">
            <label for="scheduleDate">Date</label>
            <input type="date" id="scheduleDate">
        </div>

        <div class="form-group">
            <label for="scheduleTime">Time</label>
            <input type="time" id="scheduleTime">
        </div>

        <div class="form-group">
            <label for="scheduleNotes">Special Instructions</label>
            <textarea id="scheduleNotes" rows="2" placeholder="Any special instructions for the patient"></textarea>
        </div>

        <button class="btn btn-primary" onclick="scheduleAppointment()">Schedule & Notify Patient</button>
    </div>
</div>

{% endblock %}
