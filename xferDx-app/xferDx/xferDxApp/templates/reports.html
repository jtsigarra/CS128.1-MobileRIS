{% extends 'baseNoStyle.html' %}

{% block title %}Reports | RadiologyIS{% endblock %}

{% block content %}
<!-- Reports Section -->
<div id="reports" class="section">
    <h2>ðŸ“‹ Radiology Reports</h2>

    <div style="margin-bottom: 2rem;">
        <button 
            class="btn btn-primary" 
            onclick="createNewReport()"
        >
            Create New Report
        </button>
        <button 
            class="btn btn-secondary" 
            onclick="showReportTemplates()"
        >
            Templates
        </button>
    </div>

    <div 
        class="report-editor" 
        id="reportEditor" 
        style="display: none;"
    >
        <h3>Report Editor</h3>

        <div class="form-group">
            <label for="reportStudyId">Study ID</label>
            <input 
                type="text" 
                id="reportStudyId" 
                placeholder="Enter Study ID"
            >
        </div>

        <div class="toolbar">
            <button onclick="formatText('bold')"><b>B</b></button>
            <button onclick="formatText('italic')"><i>I</i></button>
            <button onclick="formatText('underline')"><u>U</u></button>
            <button onclick="insertTemplate('normal')">Normal Template</button>
            <button onclick="insertTemplate('abnormal')">Abnormal Template</button>
        </div>

        <div class="form-group">
            <label>Findings</label>
            <div 
                class="editor-content" 
                id="findingsEditor" 
                contenteditable="true"
            >
                Click here to start typing your findings...
            </div>
        </div>

        <div class="form-group">
            <label>Impression</label>
            <div 
                class="editor-content" 
                id="impressionEditor" 
                contenteditable="true"
            >
                Click here to enter your impression...
            </div>
        </div>

        <div style="display: flex; gap: 1rem;">
            <button 
                class="btn btn-primary" 
                onclick="saveReport()"
            >
                Save Report
            </button>
            <button 
                class="btn btn-secondary" 
                onclick="sendReportToPatient()"
            >
                Send to Patient
            </button>
            <button 
                class="btn btn-secondary" 
                onclick="generatePDF()"
            >
                Generate PDF
            </button>
        </div>
    </div>

    <h3>Recent Reports</h3>
    <table class="table">
        <thead>
            <tr>
                <th>Report ID</th>
                <th>Study ID</th>
                <th>Patient</th>
                <th>Date</th>
                <th>Status</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody id="reportsTable">
            <tr>
                <td>RPT-001</td>
                <td>STU-003</td>
                <td>Mike Johnson</td>
                <td>2025-09-22</td>
                <td>
                    <span class="status-badge status-completed">Finalized</span>
                </td>
                <td>
                    <button 
                        class="btn btn-secondary" 
                        onclick="editReport('RPT-001')"
                    >
                        Edit
                    </button>
                    <button 
                        class="btn btn-secondary" 
                        onclick="shareReport('RPT-001')"
                    >
                        Share
                    </button>
                </td>
            </tr>
        </tbody>
    </table>
</div>

{% endblock %}
